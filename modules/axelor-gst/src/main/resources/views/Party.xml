<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://axelor.com/xml/ns/object-views"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://axelor.com/xml/ns/object-views http://axelor.com/xml/ns/object-views/object-views_5.2.xsd">

  <selection name="party.type.selection">
    <option value="individual">Individual</option>
    <option value="company">Company</option>
  </selection>

  <form model="com.axelor.gst.db.Party" title="Party" name="party-form"
    width="large" onSave="action-gst-party-method-on-save-set-reference">
    <panel itemSpan="4" title="Party Details" name="overview">
      <field name="reference" showIf="id" />
      <field name="name" />
      <field name="typeSelect" />
      <field name="isCustomer" />
      <field name="isSupplier" />

    </panel>
    <panel itemSpan="6" name="gstDetailsPanel">
      <field name="gstin" />
    </panel>

    <panel name="contactPanel">
      <panel colSpan="6" itemSpan="6">
        <field name="contactList">
          <editor>
            <field name="name" title="Contact Name"></field>
            <field name="typeSelect" title="Contact Type"></field>
            <field name="primaryEmail"></field>
            <field name="secondaryEmail"></field>
            <field name="primaryPhone"></field>
            <field name="secondaryPhone"></field>
          </editor>
        </field>
      </panel>
      <panel colSpan="6">
        <field name="addressList">
          <editor>
            <field name="typeSelect" />
            <field name="line1" />
            <field name="line2" />
            <field name="city" />
            <field name="state" />
            <field name="country" />
            <field name="pinCode" />
          </editor>
        </field>
      </panel>
    </panel>
  </form>

  <grid model="com.axelor.gst.db.Party" title="Party Details" name="party-grid">
    <field name="reference"></field>
    <field name="name"></field>
    <field name="typeSelect"></field>
    <field name="isCustomer"></field>
    <field name="isSupplier"></field>
    <field name="gstin"></field>
  </grid>

  <cards name="party-card" title="Party" model="com.axelor.gst.db.Party"
    orderBy="name">
    <field name="name" />
    <field name="reference" />
    <field name="typeSelect" />
    <field name="address" />
    <field name="isCustomer" />
    <field name="isSupplier" />
    <field name="gstin" />
    <template><![CDATA[
     <div class="span4" >
        <strong>{{gstin}}</strong>
          <strong>{{name}}</strong>
     </div>
     <div class="span4">
     <span ng-if="name" title="Name">Name:</span>{{name}}<br>
     <span ng-if="type" title="Type">Type:</span>{{typeSelect}}<br>
     <addresses>
         <strong> {{addresses.type}} : {{addresses.line1}}</strong><br>
         <span ng-if="addresses.city" title"City">City:</span>{{addresses.city.name}}<br>
      </addresses>
      <contacts>
      <span ng-if="contacts.name" title="<strong>Name <strong>">Contact :</span>{{contcats.name}}<br>
     </div>
   ]]></template>
  </cards>


  <action-method name="action-gst-party-method-on-save-set-reference"
    model="com.axelor.gst.db.Party">
    <call  class="com.axelor.gst.db.web.SequenceController" method="setReferenceInParty" />
  </action-method>
</object-views>
